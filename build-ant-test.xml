<project name="jaywalker-ant-test" default="all">

    <property file="build.properties"/>

    <target name="all"/>

    <path id="path.jaywalker">
        <pathelement location="build/dist/jaywalker-${project.version}.jar"/>
        <pathelement location="build/dist/jaywalker-ant-${project.version}.jar"/>
        <pathelement location="tools/bcel/bcel-5.1.jar"/>
    </path>

    <target name="init">
        <mkdir dir="build/temp"/>
        <taskdef name="jaywalker" classname="jaywalker.ant.JayWalkerTask" classpathref="path.jaywalker"/>
    </target>

    <target name="testTaskOutputNotPresent" depends="init">
        <jaywalker/>
    </target>

    <target name="testTaskClasslistNotPresent" depends="init">
        <jaywalker output="build/temp/output.xml"/>
    </target>

    <target name="testReportAggregateForClassElement" depends="init">
        <jaywalker output="build/temp/output-class-element.xml" tempDir="build/temp">
            <classlist file="build/classes/jaywalker/classlist/ClasslistElementFactory.class"/>
        </jaywalker>
    </target>

    <target name="testReportAggregateForClassesDirectory" depends="init">
        <jaywalker output="build/temp/output-classes-directory.xml" tempDir="build/temp">
            <classlist dir="build/classes"/>
        </jaywalker>
    </target>

    <target name="testReportAggregateForTest1Archive" depends="init">
        <jaywalker output="build/temp/output-test1-archive.xml" tempDir="build/temp">
            <classlist file="build/dist/jaywalker-test1.jar"/>
        </jaywalker>
    </target>

    <target name="testReportAggregateForTest2Archive" depends="init">
        <jaywalker output="build/temp/output-test2-archive.xml" tempDir="build/temp">
            <classlist file="build/dist/jaywalker-test2.jar"/>
        </jaywalker>
    </target>

    <target name="testReportAggregateForTest4Archive" depends="init">
        <jaywalker output="build/temp/output-test4-archive.xml" tempDir="build/temp">
            <classlist file="build/dist/jaywalker-test4.jar"/>
        </jaywalker>
    </target>

    <target name="testReportAggregateForBuiltArchives" depends="init">
        <jaywalker output="build/temp/output-built-archives.xml" tempDir="build/temp">
            <classlist dir="build/dist"/>
        </jaywalker>
    </target>

    <target name="testReportAggregateForCycle1AndCycle2Archive" depends="init">
        <jaywalker output="build/temp/output-cycle-archive.xml" tempDir="build/temp">
            <classlist file="build/dist/jaywalker-cycle-part1.jar"/>
            <classlist file="build/dist/jaywalker-cycle-part2.jar"/>
        </jaywalker>
    </target>


</project>